<form id="form" class="gap-9 sm:p-20 flex flex-col px-6">
  <label
    for="UserEmail"
    class="focus-within:border-indigo-600 relative block pt-3 overflow-hidden border-b border-gray-200"
  >
    <input
      type="email"
      id="UserEmail"
      placeholder="Email"
      class="peer focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm w-full h-8 p-0 placeholder-transparent bg-transparent border-none"
    />

    <span
      class="top-2 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-2 peer-focus:text-xs absolute left-0 text-xs text-gray-700 transition-all -translate-y-1/2"
    >
      Email
    </span>
  </label>
  <label
    for="name"
    class="focus-within:border-indigo-600 relative block pt-3 overflow-hidden border-b border-gray-200"
  >
    <input
      type="text"
      id="name"
      placeholder="Förnamn och efternamn"
      class="peer focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm w-full h-8 p-0 placeholder-transparent bg-transparent border-none"
    />

    <span
      class="top-2 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-2 peer-focus:text-xs absolute left-0 text-xs text-gray-700 transition-all -translate-y-1/2"
    >
      Förnamn och efternamn
    </span>
  </label>
  <div class="flex gap-10">
    <label
      for="to-date"
      class="focus-within:border-indigo-600 relative flex-1 block pt-3 overflow-hidden border-b border-gray-200"
    >
      <input
        type="date"
        id="to-date"
        placeholder="Förnamn och efternamn"
        class="peer focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm w-full h-8 p-0 placeholder-transparent bg-transparent border-none"
      />

      <span
        class="top-2 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-2 peer-focus:text-xs absolute left-0 text-xs text-gray-700 transition-all -translate-y-1/2"
      >
        Från
      </span>
    </label>
    <label
      for="to-date"
      class="focus-within:border-indigo-600 relative flex-1 block pt-3 overflow-hidden border-b border-gray-200"
    >
      <input
        type="date"
        id="to-date"
        placeholder="Förnamn och efternamn"
        class="peer focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm w-full h-8 p-0 placeholder-transparent bg-transparent border-none"
      />

      <span
        class="top-2 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-2 peer-focus:text-xs absolute left-0 text-xs text-gray-700 transition-all -translate-y-1/2"
      >
        Till
      </span>
    </label>
  </div>
  <div class="sm:grid-cols-3 grid grid-cols-1 gap-4 text-center">
    <div>
      <input
        class="peer sr-only"
        id="option1"
        type="radio"
        tabindex="-1"
        name="option"
      />

      <label
        for="option1"
        class="hover:border-indigo-600 peer-checked:border-indigo-600 peer-checked:bg-indigo-600 peer-checked:text-white block w-full p-3 border border-gray-200 rounded-lg"
        tabindex="0"
      >
        <span class="text-sm font-medium"> Båda Lägenheterna</span>
      </label>
    </div>

    <div>
      <input
        class="peer sr-only"
        id="option2"
        type="radio"
        tabindex="-1"
        name="option"
      />

      <label
        for="option2"
        class="hover:border-indigo-600 peer-checked:border-indigo-600 peer-checked:bg-indigo-600 peer-checked:text-white block w-full p-3 border border-gray-200 rounded-lg"
        tabindex="0"
      >
        <span class="text-sm font-medium"> Båttenvåning</span>
      </label>
    </div>

    <div>
      <input
        class="peer sr-only"
        id="option3"
        type="radio"
        tabindex="-1"
        name="option"
      />

      <label
        for="option3"
        class="hover:border-indigo-600 peer-checked:border-indigo-600 peer-checked:bg-indigo-600 peer-checked:text-white block w-full p-3 border border-gray-200 rounded-lg"
        tabindex="0"
      >
        <span class="text-sm font-medium"> Övervåning</span>
      </label>
    </div>
  </div>
  <label
    for="message"
    class="focus-within:border-indigo-600 relative block pt-3 overflow-hidden border-b border-gray-200"
  >
    <textarea
      id="message"
      rows="6"
      placeholder="Email"
      class="peer focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm w-full p-0 placeholder-transparent bg-transparent border-none resize-none"
    ></textarea>

    <span
      class="top-2 peer-placeholder-shown:top-5 peer-placeholder-shown:text-sm peer-focus:top-2 peer-focus:text-xs absolute left-0 text-xs text-gray-700 transition-all -translate-y-1/2"
    >
      Meddelande
    </span>
  </label>

  <button
    class="bg-indigo-600 text-lg text-white py-2.5 px-6 rounded-lg hover:bg-indigo-800 w-fit"
  >
    Skicka meddelande
  </button>
</form>

<script>
  import emailjs from "@emailjs/browser";
  import swal from "sweetalert";
  const form = document.getElementById("form");
  if (form)
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      if (e.target) console.log(e);
    });
  function sendEmail(e: EventTarget) {
    emailjs
      .send(
        "service_ip2rne9",
        "template_s0qmtox",
        {
          user_email: e[0].value,
          from_name: e[1].value,
          from_date: e[2].value,
          to_date: e[3].value,
          message: e[4].value,
        },
        "IlK1fblOIr8WTMBUb"
      )
      .then(
        (result) => {
          swal("Meddelandet har skickats!");
          console.log(result.text);
        },
        (error) => {
          swal("Meddelandet kunde inte skickas!");
          console.log(error.text);
        }
      );
  }
</script>
